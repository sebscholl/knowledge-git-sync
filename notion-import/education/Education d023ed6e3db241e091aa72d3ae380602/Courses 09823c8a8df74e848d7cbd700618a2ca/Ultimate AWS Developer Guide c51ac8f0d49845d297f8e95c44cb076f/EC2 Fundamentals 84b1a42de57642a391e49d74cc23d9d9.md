# EC2 Fundamentals

Created: May 5, 2019 4:48 PM
Updated: May 7, 2019 5:16 PM

EC2 allows for launching virtual server instances in the cloud, coupled with other AWS services for Storage and Load Balancing.

Inbound rules allow for admins/devs to connect to the virtual machine. This can be done several ways, though is commonly done through SSH. By downloading the key.pem file generated by EC2, you can connect to the instance if configured to allow your IP address (0.0.0.0:00 is open to everyone).

By default the key.pem file will not be allowed by the server when connecting. You must change the file permissions on your machine with `chmod` command.

### Error

Permissions 0644 for 'EC2-Tutorial-Udemy.pem' are too open.

It is required that your private key files are NOT accessible by others.

This private key will be ignored.

Load key "EC2-Tutorial-Udemy.pem": bad permissions

ec2-user@52.91.199.125: Permission denied (publickey,gssapi-keyex,gssapi-with-mic).

### Solution

$ chmod 0400 <KEY_FILE>.pem

$ ssh -i <KEY_FILE>.pem ec2-user@<PUBLIC_IP>

When using Window’s machines, you should use PuTTY to help with SSH. PuTTY will convert the key.pem file to a key.ppk file. This PPK file is what PuTTY will use to connect to the virtual machine.

When setting up instance, use sudo su to hop into root account for elevated privileges.

$ sudo su

**Pricing**

EC2 is a pr/hr pricing that ranges based on:

- Region
- Instance Type
- On-demand, reserved, spot, dedicated
- AMI installed
- Storage
- Data transferred
- more...

Billed by the second with a minimum of 60-seconds.

**Custom AMIs**

BUILT AMIs ARE REGION SPECIFIC!

Custom AMIs are supported for Windows and Linux machines.

- Faster Boot-time
- Pre-install packages
- Any reason you’d want...

**Characteristics**

Instances are differentiated between RAM, CPU, I/O, Network, and GPU. Different character codes denote which are better at different tasks.

- M - Most well balanced with no GPU
- T2/T3 - “Burstable” average CPU until needed, in which case it bursts to VERY GOOD perf.
    - It runs on Burst Credits until the credits run out, in which case the CPU gets BAD
    - Credits are accumulated back over time
    - This is really great for low traffic sites or services that need to be prepared for a spike. Though are not usable for sustained traffic.
    - T2 Unlimited switches over to paid credits, where you don’t loose CPU for overload and instead just pay for it.